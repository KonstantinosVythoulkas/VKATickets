{"ast":null,"code":"import consumer from \"./consumer\";\nconsumer.subscriptions.create(\"CommentsChannel\", {\n  connected: function connected() {// Called when the subscription is ready for use on the server\n  },\n  disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n  },\n  received: function received(data) {\n    console.log(\"done\");\n    console.log(window.location.href);\n    $('#comments').append('<strong>' + data.content[1] + ': ' + '</strong>' + data.content[0] + ' ' + '<em>' + data.content[2] + '</em>' + '<hr class=\"comments-hr\">'); // Called when there's incoming data on the websocket for this channel\n\n    $('#comment_field').val('');\n  }\n});\nvar submit_messages;\n$(document).on('turbolinks:load', function () {\n  submit_messages();\n});\n\nsubmit_messages = function submit_messages() {\n  $('#new_comment').on('keydown', function (event) {\n    if (event.key === 'Enter') {\n      $('#send_button').trigger(\"click\"); //$('#comment_field').val('')\n      //event.target.value = ''\n\n      event.preventDefault();\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/local_uaf6el1/Workspace/TicketsRoR/app/javascript/channels/comments_channel.js"],"names":["consumer","subscriptions","create","connected","disconnected","received","data","console","log","window","location","href","$","append","content","val","submit_messages","document","on","event","key","trigger","preventDefault"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEAA,QAAQ,CAACC,aAAT,CAAuBC,MAAvB,CAA8B,iBAA9B,EAAiD;AAC/CC,EAAAA,SAD+C,uBACnC,CACV;AACD,GAH8C;AAK/CC,EAAAA,YAL+C,0BAKhC,CACb;AACD,GAP8C;AAS/CC,EAAAA,QAT+C,oBAStCC,IATsC,EAShC;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,QAAP,CAAgBC,IAA5B;AACAC,IAAAA,CAAC,CAAC,WAAD,CAAD,CAAeC,MAAf,CAAsB,aAAaP,IAAI,CAACQ,OAAL,CAAa,CAAb,CAAb,GAA+B,IAA/B,GAAsC,WAAtC,GAAoDR,IAAI,CAACQ,OAAL,CAAa,CAAb,CAApD,GAAsE,GAAtE,GAA4E,MAA5E,GAAqFR,IAAI,CAACQ,OAAL,CAAa,CAAb,CAArF,GAAuG,OAAvG,GAAiH,0BAAvI,EAHa,CAIb;;AACAF,IAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBG,GAApB,CAAwB,EAAxB;AAED;AAhB8C,CAAjD;AAmBA,IAAIC,eAAJ;AAEAJ,CAAC,CAACK,QAAD,CAAD,CAAYC,EAAZ,CAAe,iBAAf,EAAkC,YAAW;AAC3CF,EAAAA,eAAe;AAChB,CAFD;;AAIAA,eAAe,GAAG,2BAAW;AAC3BJ,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBM,EAAlB,CAAqB,SAArB,EAAgC,UAAUC,KAAV,EAAgB;AAC9C,QAAGA,KAAK,CAACC,GAAN,KAAc,OAAjB,EAAyB;AACvBR,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBS,OAAlB,CAA2B,OAA3B,EADuB,CAEvB;AACA;;AACAF,MAAAA,KAAK,CAACG,cAAN;AACD;AACF,GAPD;AASD,CAVD","sourcesContent":["import consumer from \"./consumer\"\r\n\r\nconsumer.subscriptions.create(\"CommentsChannel\", {\r\n  connected() {\r\n    // Called when the subscription is ready for use on the server\r\n  },\r\n\r\n  disconnected() {\r\n    // Called when the subscription has been terminated by the server\r\n  },\r\n\r\n  received(data) {\r\n    console.log(\"done\")\r\n    console.log(window.location.href)\r\n    $('#comments').append('<strong>' + data.content[1] + ': ' + '</strong>' + data.content[0] + ' ' + '<em>' + data.content[2] + '</em>' + '<hr class=\"comments-hr\">' )\r\n    // Called when there's incoming data on the websocket for this channel\r\n    $('#comment_field').val('')\r\n\r\n  }\r\n});\r\n\r\nvar submit_messages;\r\n\r\n$(document).on('turbolinks:load', function() {\r\n  submit_messages()\r\n})\r\n\r\nsubmit_messages = function (){\r\n  $('#new_comment').on('keydown', function (event){\r\n    if(event.key === 'Enter'){\r\n      $('#send_button').trigger( \"click\" )\r\n      //$('#comment_field').val('')\r\n      //event.target.value = ''\r\n      event.preventDefault()\r\n    }\r\n  })\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}